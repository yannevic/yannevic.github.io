<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pra vc üíñ</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap');

    body {
      margin: 0;
      font-family: 'Courier Prime', monospace;
      background: #fffafc;
      color: #d63384;
      text-align: center;
      overflow-x: hidden;
    }

    header {
      margin-top: 3rem;
      font-size: 1.8rem;
      color: #d63384;
      animation: fadeIn 2s ease-in-out;
    }

    .typing-container {
      width: 90%;
      max-width: 600px;
      margin: 2rem auto;
      font-size: 1.1rem;
      white-space: pre-wrap;
      overflow: hidden;
      border-right: 2px solid #d63384;
      font-family: 'Courier Prime', monospace;
      text-align: left;
      min-height: 130px;
    }

    .envelope {
      font-size: 4rem;
      cursor: pointer;
      margin-top: 2rem;
      transition: transform 0.3s;
      z-index: 1;
      position: relative;
    }

    .envelope:hover {
      transform: scale(1.2);
    }

    .label {
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #b32465;
      position: relative;
      z-index: 1;
      user-select: none;
    }

    /* POPUP BACKGROUND */
    .popup, .reward-popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    /* QUIZ & REWARD BOX */
    .quiz-box, .reward-box {
      background: #fff;
      padding: 2rem;
      border: 6px dashed #d63384;
      border-radius: 24px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 0 25px rgba(0,0,0,0.2);
      text-align: left;
      position: relative;
      animation: slideUp 0.5s ease-out;
      z-index: 11;
    }

    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .quiz-box p, .reward-box p {
      margin-bottom: 1rem;
      font-family: 'Courier Prime', monospace;
      white-space: pre-wrap;
      border-right: 2px solid #d63384;
      animation: typing 2s steps(40, end), blink 0.75s step-end infinite;
    }

    /* BUTTONS */
    .quiz-box button, .reward-box button {
      background: #d63384;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      margin: 0.5rem 0.5rem 0 0;
      font-family: 'Courier Prime', monospace;
      font-weight: bold;
      user-select: none;
      transition: background 0.3s ease;
    }
    .quiz-box button:hover, .reward-box button:hover {
      background: #b32465;
    }

    /* FEEDBACK */
    .feedback {
      font-style: italic;
      color: #d63384;
      margin-top: 0.5rem;
      font-family: 'Courier Prime', monospace;
      min-height: 24px;
      white-space: pre-wrap;
      border-right: 2px solid #d63384;
      animation: typing 1.5s steps(40, end), blink 0.75s step-end infinite;
    }

    /* CLOSE BUTTON */
    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: transparent;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #d63384;
      user-select: none;
    }

    /* FALLING HEARTS */
    .heart {
      position: fixed;
      top: -50px;
      color: #d63384;
      font-size: 1.5rem;
      animation: fall linear infinite;
      z-index: 0;
      user-select: none;
    }
    @keyframes fall {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }

    /* TYPING ANIMATION */
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    @keyframes blink {
      from, to { border-color: transparent }
      50% { border-color: #d63384; }
    }

    /* BIG EMOJI */
    .big-emoji {
      font-size: 3rem;
      cursor: pointer;
      display: inline-block;
      margin-top: 1rem;
    }

  </style>
</head>
<body>

  <!-- M√∫sica de fundo lofi "Rain" do Lee via YouTube (oculto) -->
  <iframe style="display:none;" width="0" height="0" src="https://www.youtube.com/embed/pdYJtRBPlTw?autoplay=1&loop=1&playlist=pdYJtRBPlTw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

  <header>oii üåπ</header>

  <div class="typing-container" id="typing"></div>

  <div class="envelope" id="envelope" onclick="openQuiz()">üíå</div>
  <div class="label" id="label">Aperta aqui s√≥ se estiver pronto pra nos conhecer de verdade...</div>

  <!-- POPUP DO QUIZ -->
  <div class="popup" id="quizPopup">
    <div class="quiz-box">
      <button class="close-btn" onclick="closeQuiz()">‚úï</button>
      <p id="questionText"></p>
      <div id="optionsContainer"></div>
      <div class="feedback" id="feedback"></div>
    </div>
  </div>

  <!-- POPUP DO PR√äMIO -->
  <div class="reward-popup" id="rewardPopup">
    <div class="reward-box">
      <button class="close-btn" onclick="closeReward()">‚úï</button>
      <p id="rewardText"></p>
      <div style="text-align:center; margin-top: 1rem;">
        <div class="big-emoji" onclick="openCode()">üéÅ</div>
        <p id="codeText" style="font-family: 'Courier Prime', monospace; font-size: 1.2rem; user-select:none; margin-top: 0.5rem; cursor: default;"></p>
      </div>
    </div>
  </div>

  <script>
    // Texts to type on the intro container (typed one after another)
    const introTexts = [
      "s√≥ queria criar uma lembrancinha nessa data e fazer algo especial pra vc\n\n",
      "espero que goste... üíñ"
    ];

    // Variables for typing intro
    const typingContainer = document.getElementById('typing');
    let currentIntroIndex = 0;
    let currentCharIndex = 0;

    function typeIntro() {
      if(currentIntroIndex >= introTexts.length) return;
      const text = introTexts[currentIntroIndex];
      if(currentCharIndex < text.length){
        typingContainer.textContent += text.charAt(currentCharIndex);
        currentCharIndex++;
        setTimeout(typeIntro, 70);
      } else {
        currentIntroIndex++;
        currentCharIndex = 0;
        setTimeout(typeIntro, 600);
      }
    }

    typeIntro();

    // Quiz data
    const questions = [
      {
        q: "Q dia a gente come√ßou a conversar? (essa √© facil)",
        options: ["2", "7", "10"],
        correct: 0
      },
      {
        q: "Que dia vc falou q me amava pela 1x?",
        options: ["10", "17", "27"],
        correct: 1
      },
      {
        q: "Qual minha comida favorita",
        options: ["Hamb√∫rguer", "Pizza", "Lasanha"],
        correct: 0
      }
    ];

    const quizPopup = document.getElementById('quizPopup');
    const rewardPopup = document.getElementById('rewardPopup');
    const questionText = document.getElementById('questionText');
    const optionsContainer = document.getElementById('optionsContainer');
    const feedback = document.getElementById('feedback');
    const rewardText = document.getElementById('rewardText');
    const codeText = document.getElementById('codeText');
    const envelope = document.getElementById('envelope');
    const label = document.getElementById('label');

    let currentQuestion = 0;

    function openQuiz(){
      quizPopup.style.display = 'flex';
      envelope.style.zIndex = '0'; // coloca envelope atr√°s
      label.style.zIndex = '0';
      currentQuestion = 0;
      feedback.textContent = '';
      showQuestion();
    }

    function closeQuiz(){
      quizPopup.style.display = 'none';
      envelope.style.zIndex = '1'; // traz envelope pra frente
      label.style.zIndex = '1';
    }

    function showQuestion(){
      feedback.textContent = '';
      questionText.textContent = '';
      optionsContainer.innerHTML = '';

      // Para o efeito de digita√ß√£o na pergunta:
      typeText(questionText, questions[currentQuestion].q, () => {
        // Depois da pergunta aparecer, mostrar op√ß√µes
        questions[currentQuestion].options.forEach((option, i) => {
          const btn =
